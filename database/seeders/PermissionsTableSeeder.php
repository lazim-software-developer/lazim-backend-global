<?php
namespace Database\Seeders;

use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\DB;
use Illuminate\Support\Facades\Log;
use Spatie\Permission\Models\Permission;

class PermissionsTableSeeder extends Seeder
{
    public function run(): void
    {
        DB::beginTransaction();
        try {
            $permissions = [
                'view_mollak::invoice',
                'view_any_mollak::invoice',
                'create_mollak::invoice',
                'update_mollak::invoice',
                'view_access::card::forms::document',
                'view_any_access::card::forms::document',
                'create_access::card::forms::document',
                'update_access::card::forms::document',
                'view_accounts::manager',
                'view_any_accounts::manager',
                'create_accounts::manager',
                'update_accounts::manager',
                'view_aging::report',
                'view_any_aging::report',
                'create_aging::report',
                'update_aging::report',
                'view_announcement',
                'view_any_announcement',
                'create_announcement',
                'update_announcement',
                'view_asset',
                'view_any_asset',
                'create_asset',
                'update_asset',
                'view_asset::maintenance',
                'view_any_asset::maintenance',
                'create_asset::maintenance',
                'update_asset::maintenance',
                'view_bank::statement',
                'view_any_bank::statement',
                'create_bank::statement',
                'update_bank::statement',
                'view_budget',
                'view_any_budget',
                'create_budget',
                'update_budget',
                'view_building::building',
                'view_any_building::building',
                'create_building::building',
                'update_building::building',
                'view_building::building::poc',
                'view_any_building::building::poc',
                'create_building::building::poc',
                'update_building::building::poc',
                'view_building::complaint',
                'view_any_building::complaint',
                'create_building::complaint',
                'update_building::complaint',
                'view_building::document',
                'view_any_building::document',
                'create_building::document',
                'update_building::document',
                'view_building::documents',
                'view_any_building::documents',
                'create_building::documents',
                'update_building::documents',
                'view_building::engineer',
                'view_any_building::engineer',
                'create_building::engineer',
                'update_building::engineer',
                'view_building::facility::booking',
                'view_any_building::facility::booking',
                'create_building::facility::booking',
                'update_building::facility::booking',
                'view_building::flat',
                'view_any_building::flat',
                'create_building::flat',
                'update_building::flat',
                'view_building::flat::tenant',
                'view_any_building::flat::tenant',
                'create_building::flat::tenant',
                'update_building::flat::tenant',
                'view_building::service::booking',
                'view_any_building::service::booking',
                'create_building::service::booking',
                'update_building::service::booking',
                'view_complaint::officer',
                'view_any_complaint::officer',
                'create_complaint::officer',
                'update_complaint::officer',
                'view_complaintscomplaint',
                'view_any_complaintscomplaint',
                'create_complaintscomplaint',
                'update_complaintscomplaint',
                'view_complaintsenquiry',
                'view_any_complaintsenquiry',
                'create_complaintsenquiry',
                'update_complaintsenquiry',
                'view_complaintssuggession',
                'view_any_complaintssuggession',
                'create_complaintssuggession',
                'update_complaintssuggession',
                'view_contract',
                'view_any_contract',
                'create_contract',
                'update_contract',
                'view_cooling::account',
                'view_any_cooling::account',
                'create_cooling::account',
                'update_cooling::account',
                'view_delinquent::owner',
                'view_any_delinquent::owner',
                'create_delinquent::owner',
                'update_delinquent::owner',
                'view_fit::out::forms::document',
                'view_any_fit::out::forms::document',
                'create_fit::out::forms::document',
                'update_fit::out::forms::document',
                'view_flat::document',
                'view_any_flat::document',
                'create_flat::document',
                'update_flat::document',
                'view_floor',
                'view_any_floor',
                'create_floor',
                'update_floor',
                'view_guest::registration',
                'view_any_guest::registration',
                'create_guest::registration',
                'update_guest::registration',
                'view_helpdeskcomplaint',
                'view_any_helpdeskcomplaint',
                'create_helpdeskcomplaint',
                'update_helpdeskcomplaint',
                'view_invoice',
                'view_any_invoice',
                'create_invoice',
                'update_invoice',
                'view_item',
                'view_any_item',
                'create_item',
                'update_item',
                'view_item::inventory',
                'view_any_item::inventory',
                'create_item::inventory',
                'update_item::inventory',
                'view_ledgers',
                'view_any_ledgers',
                'create_ledgers',
                'update_ledgers',
                'view_legal::officer',
                'view_any_legal::officer',
                'create_legal::officer',
                'update_legal::officer',
                'view_m::d',
                'view_any_m::d',
                'create_m::d',
                'update_m::d',
                'view_master::city',
                'view_any_master::city',
                'create_master::city',
                'update_master::city',
                'view_master::document::library',
                'view_any_master::document::library',
                'create_master::document::library',
                'update_master::document::library',
                'view_master::facility',
                'view_any_master::facility',
                'create_master::facility',
                'update_master::facility',
                'view_master::role',
                'view_any_master::role',
                'create_master::role',
                'update_master::role',
                'view_master::service',
                'view_any_master::service',
                'create_master::service',
                'update_master::service',
                'view_master::vendor::service',
                'view_any_master::vendor::service',
                'create_master::vendor::service',
                'update_master::vendor::service',
                'view_media',
                'view_any_media',
                'create_media',
                'update_media',
                'view_mollak::tenant',
                'view_any_mollak::tenant',
                'create_mollak::tenant',
                'update_mollak::tenant',
                'view_move::in::forms::document',
                'view_any_move::in::forms::document',
                'create_move::in::forms::document',
                'update_move::in::forms::document',
                'view_move::out::forms::document',
                'view_any_move::out::forms::document',
                'create_move::out::forms::document',
                'update_move::out::forms::document',
                'view_noc::form',
                'view_any_noc::form',
                'create_noc::form',
                'update_noc::form',
                'view_o::a::m::invoice',
                'view_any_o::a::m::invoice',
                'create_o::a::m::invoice',
                'update_o::a::m::invoice',
                'view_o::a::m::receipts',
                'view_any_o::a::m::receipts',
                'create_o::a::m::receipts',
                'update_o::a::m::receipts',
                'view_oacomplaint::reports',
                'view_any_oacomplaint::reports',
                'create_oacomplaint::reports',
                'update_oacomplaint::reports',
                'view_owner::association',
                'view_any_owner::association',
                'create_owner::association',
                'update_owner::association',
                'view_owner::association::invoice',
                'view_any_owner::association::invoice',
                'create_owner::association::invoice',
                'update_owner::association::invoice',
                'view_owner::association::receipt',
                'view_any_owner::association::receipt',
                'create_owner::association::receipt',
                'update_owner::association::receipt',
                'view_patrolling',
                'view_any_patrolling',
                'create_patrolling',
                'update_patrolling',
                'view_poll',
                'view_any_poll',
                'create_poll',
                'update_poll',
                'view_post',
                'view_any_post',
                'create_post',
                'update_post',
                'view_proposal',
                'view_any_proposal',
                'create_proposal',
                'update_proposal',
                'view_residential::form',
                'view_any_residential::form',
                'create_residential::form',
                'update_residential::form',
                'view_shield::role',
                'view_any_shield::role',
                'create_shield::role',
                'update_shield::role',
                'delete_shield::role',
                'delete_any_shield::role',
                'view_snagging',
                'view_any_snagging',
                'create_snagging',
                'update_snagging',
                'view_snags',
                'view_any_snags',
                'create_snags',
                'update_snags',
                'view_technician::assets',
                'view_any_technician::assets',
                'create_technician::assets',
                'update_technician::assets',
                'view_tenant::complaints::tenantcomplaint',
                'view_any_tenant::complaints::tenantcomplaint',
                'create_tenant::complaints::tenantcomplaint',
                'update_tenant::complaints::tenantcomplaint',
                'view_tenant::document',
                'view_any_tenant::document',
                'create_tenant::document',
                'update_tenant::document',
                'view_tender',
                'view_any_tender',
                'create_tender',
                'update_tender',
                'view_user::approval',
                'view_any_user::approval',
                'create_user::approval',
                'update_user::approval',
                'view_user::owner',
                'view_any_user::owner',
                'create_user::owner',
                'update_user::owner',
                'view_user::tenant',
                'view_any_user::tenant',
                'create_user::tenant',
                'update_user::tenant',
                'view_user::user',
                'view_any_user::user',
                'create_user::user',
                'update_user::user',
                'view_vehicle',
                'view_any_vehicle',
                'create_vehicle',
                'update_vehicle',
                'view_vendor::attendance',
                'view_any_vendor::attendance',
                'create_vendor::attendance',
                'update_vendor::attendance',
                'view_vendor::contacts',
                'view_any_vendor::contacts',
                'create_vendor::contacts',
                'update_vendor::contacts',
                'view_vendor::ledgers',
                'view_any_vendor::ledgers',
                'create_vendor::ledgers',
                'update_vendor::ledgers',
                'view_vendor::vendor',
                'view_any_vendor::vendor',
                'create_vendor::vendor',
                'update_vendor::vendor',
                'view_visitor::flat::domestic::help',
                'view_any_visitor::flat::domestic::help',
                'create_visitor::flat::domestic::help',
                'update_visitor::flat::domestic::help',
                'view_visitor::form',
                'view_any_visitor::form',
                'create_visitor::form',
                'update_visitor::form',
                'view_w::d::a',
                'view_any_w::d::a',
                'create_w::d::a',
                'update_w::d::a',
                'page_AgingReport',
                'page_BudgetListing',
                'page_BudgetVsActual',
                'page_DelinquentOwners',
                'page_Documents',
                'page_GeneralFundStatement',
                'page_GeneralFundStatementMollak',
                'page_ListAllReceipts',
                'page_CreateTender',
                'page_OwnerAssociationInvoice',
                'page_OwnerAssociationReceipt',
                'page_ReserveFundStatement',
                'page_ReserveFundStatementMollak',
                'page_TrialBalance',
                'widget_ContractsOverview',
                'widget_FacilityBookingOverview',
                'widget_ProposalOverview',
                'widget_RegistrationChart',
                'widget_TasksChart',
                'widget_FormsChart',
                'widget_HappinessCenterChart',
                'view_app::feedback',
                'view_any_app::feedback',
                'create_app::feedback',
                'update_app::feedback',
                'view_incident',
                'view_any_incident',
                'create_incident',
                'update_incident',
                'view_activity',
                'view_any_activity',
                'create_activity',
                'update_activity',
                'view_bill',
                'view_any_bill',
                'create_bill',
                'update_bill',
                'view_any_facility::booking',
                'create_facility::booking',
                'update_facility::booking',
                'view_facility::manager',
                'view_any_facility::manager',
                'create_facility::manager',
                'update_facility::manager',
                'view_facility::support::complaint',
                'view_any_facility::support::complaint',
                'create_facility::support::complaint',
                'update_facility::support::complaint',
                'view_family::member',
                'view_any_family::member',
                'create_family::member',
                'update_family::member',
                'view_legal::notice',
                'view_any_legal::notice',
                'create_legal::notice',
                'update_legal::notice',
                'view_property::manager',
                'view_any_property::manager',
                'create_property::manager',
                'update_property::manager',
                'view_rental::cheque',
                'view_any_rental::cheque',
                'create_rental::cheque',
                'update_rental::cheque',
                'view_sub::contractor',
                'view_any_sub::contractor',
                'create_sub::contractor',
                'update_sub::contractor',
                'view_technician::vendor',
                'view_any_technician::vendor',
                'create_technician::vendor',
                'update_technician::vendor',
                'view_unit::list',
                'view_any_unit::list',
                'create_unit::list',
                'update_unit::list',
                'page_ContractExpiryOverview',
                'widget_StatsOverview',
                'widget_UnitStatusOverview',
                'widget_UnitContractExpiryOverview',
                'widget_RentalChequeStatusOverview',
                'widget_MoveInOutChart',
                'widget_OwnerTenantRegistrationChart',
                'widget_BillsOverviewWidget',
                'widget_VendorChart',
                'widget_ComplaintsChart',
                'widget_ComplaintCategoriesChart',
                'widget_WdaChart',
                'widget_RecentOpenComplaints',
                'widget_RecentRegisterOwner',
                'widget_RecentPendingResidentApprovals',
                'widget_SecuritesOverview',
                'widget_AmenityBookingOverview',
                'widget_MoveInOutSchedule',
                'widget_PreventiveReactiveMaintenance',
            ];

            foreach ($permissions as $permission) {
                Permission::updateOrCreate([
                    'name'       => $permission,
                    'guard_name' => 'web',
                ]);
            }

            DB::commit();
            Log::info('Permissions seeded successfully');
        } catch (\Exception $e) {
            DB::rollBack();
            Log::error('Failed to seed permissions: ' . $e->getMessage());
            throw $e;
        }
    }
}
